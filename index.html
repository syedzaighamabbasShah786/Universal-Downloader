<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ULTIMATE TITAN v15 | All-in-One Downloader</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --main: #00ffa3; --bg: #000000; }
        body { background: var(--bg); color: white; font-family: 'Inter', sans-serif; }
        .engine-core { background: linear-gradient(180deg, #0a0a0a 0%, #000 100%); border: 1px solid #1a1a1a; border-radius: 40px; }
        .glow-input { background: #050505; border: 2px solid #111; border-radius: 20px; transition: 0.4s; color: var(--main); }
        .glow-input:focus { border-color: var(--main); box-shadow: 0 0 30px rgba(0, 255, 163, 0.2); outline: none; }
        .btn-god { background: linear-gradient(90deg, #00ffa3, #0095ff); color: #000; font-weight: 900; border-radius: 20px; transition: 0.3s; text-transform: uppercase; }
        .btn-god:hover { transform: translateY(-5px); box-shadow: 0 15px 40px rgba(0, 255, 163, 0.4); }
        .loading-ring { width: 50px; height: 50px; border: 5px solid #111; border-top: 5px solid var(--main); border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="p-4 md:p-10">

    <div class="max-w-4xl mx-auto">
        <header class="text-center mb-16">
            <h1 class="text-5xl md:text-7xl font-black italic mb-2 tracking-tighter">TITAN <span class="text-emerald-500">v15</span></h1>
            <p class="text-zinc-500 text-xs font-bold tracking-[8px] uppercase">World's Largest Media Extraction Engine</p>
        </header>

        <div class="engine-core p-8 md:p-20 shadow-2xl">
            <div class="mb-10 text-center">
                <span class="bg-emerald-500/10 text-emerald-400 text-[10px] font-black px-4 py-2 rounded-full border border-emerald-500/20 uppercase">
                    <i class="fas fa-shield-check mr-2"></i> Auto-Patching System Online
                </span>
            </div>

            <div class="space-y-6">
                <input type="text" id="targetLink" placeholder="Paste FB, Insta, or TikTok Link Here..." class="glow-input w-full p-6 text-lg md:text-xl font-medium">
                
                <button onclick="igniteEngine()" id="actionBtn" class="btn-god w-full p-6 text-xl">
                    <i class="fas fa-bolt mr-2"></i> Extract Media (No Watermark)
                </button>
            </div>

            <div id="loaderArea" class="hidden mt-12 text-center">
                <div class="flex justify-center mb-4"><div class="loading-ring"></div></div>
                <p id="engineStep" class="text-xs font-bold text-zinc-500 uppercase tracking-widest">Bypassing Firewall...</p>
            </div>

            <div id="displayArea" class="hidden mt-12 animate-fade-in pt-12 border-t border-zinc-900">
                </div>
        </div>

        <footer class="mt-20 text-center">
            <div class="h-20 bg-zinc-900/20 rounded-2xl flex items-center justify-center text-zinc-700 text-[10px] font-bold uppercase mb-10">AdSpace: High Revenue Placeholder</div>
            <p class="text-zinc-600 text-[10px] font-bold tracking-widest uppercase mb-6">Master Engineered by Syed Ali Hassan Shah</p>
            <div class="flex justify-center gap-8 text-2xl text-zinc-800">
                <a href="https://www.facebook.com/SyedAliHassanShaOfficial" target="_blank" class="hover:text-blue-500 transition"><i class="fab fa-facebook"></i></a>
                <a href="https://youtube.com/@zawersyedalihassanshah" target="_blank" class="hover:text-red-600 transition"><i class="fab fa-youtube"></i></a>
                <a href="https://www.tiktok.com/@zawar_syed_ali_hassan" target="_blank" class="hover:text-white transition"><i class="fab fa-tiktok"></i></a>
            </div>
        </footer>
    </div>

    <script>
        async function igniteEngine() {
            const link = document.getElementById('targetLink').value.trim();
            const btn = document.getElementById('actionBtn');
            const loader = document.getElementById('loaderArea');
            const display = document.getElementById('displayArea');
            const stepText = document.getElementById('engineStep');

            if (!link) return alert("Please paste a link first!");

            // Setup UI
            btn.disabled = true;
            btn.style.opacity = '0.5';
            loader.classList.remove('hidden');
            display.classList.add('hidden');

            // --- THE POWERFUL ENGINE LOGIC ---
            // یہ سسٹم 3 الگ الگ عالمی APIs کو ترتیب سے استعمال کرے گا
            const endpoints = [
                `https://api.vkrdownloader.tk/main.php?url=${encodeURIComponent(link)}`,
                `https://www.tikwm.com/api/?url=${encodeURIComponent(link)}`,
                `https://api.socialsaver.io/v1/download?url=${encodeURIComponent(link)}`
            ];

            let found = false;

            for (let i = 0; i < endpoints.length; i++) {
                try {
                    stepText.innerText = `Attempting Node ${i+1}: Cracking Security...`;
                    const res = await fetch(endpoints[i]);
                    const json = await res.json();

                    // Check for valid data in different API formats
                    const data = json.data || json;
                    if (data.url || data.play || (data.links && data.links.length > 0)) {
                        renderMedia(data);
                        found = true;
                        break;
                    }
                } catch (e) {
                    console.log(`Node ${i+1} failed, trying next...`);
                }
            }

            if (!found) {
                alert("SECURITY ALERT: This specific video is highly protected. Our system is auto-updating to bypass this new patch. Please retry in 30 seconds.");
            }

            loader.classList.add('hidden');
            btn.disabled = false;
            btn.style.opacity = '1';
        }

        function renderMedia(media) {
            const display = document.getElementById('displayArea');
            display.classList.remove('hidden');

            // High intelligence link detection
            const dLink = media.play || media.url || (media.links ? media.links[0].url : '');
            const poster = media.cover || media.thumbnail || 'https://via.placeholder.com/400x225/111/00ffa3?text=SECURED+MEDIA';

            display.innerHTML = `
                <div class="max-w-md mx-auto text-center">
                    <img src="${poster}" class="w-full rounded-3xl shadow-2xl mb-8 border border-zinc-800">
                    <h3 class="text-sm font-bold text-zinc-400 mb-8 uppercase tracking-widest">${media.title || 'Video Successfully Decoded'}</h3>
                    <div class="flex flex-col gap-4">
                        <a href="${dLink}" target="_blank" class="btn-god p-5 block shadow-lg">Download High Quality (No WM)</a>
                        ${media.music || media.audio ? `<a href="${media.music || media.audio}" target="_blank" class="text-xs font-black text-zinc-600 hover:text-white transition uppercase tracking-tighter">Download MP3 Audio</a>` : ''}
                    </div>
                    <p class="mt-8 text-[9px] text-zinc-800 font-black uppercase">Titan v15.0 Global Engine | Protected by Syed Ali Hassan Shah</p>
                </div>
            `;
            display.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
