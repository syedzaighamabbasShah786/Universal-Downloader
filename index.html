<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TITAN APEX v30.0 | Global Media Extractor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --neon: #00ffcc; --dark: #020202; }
        body { background: var(--dark); color: #fff; font-family: 'Inter', sans-serif; overflow-x: hidden; }
        .apex-card { background: rgba(255, 255, 255, 0.01); border: 1px solid rgba(0, 255, 204, 0.1); backdrop-filter: blur(20px); border-radius: 40px; }
        .glow-input { background: #000; border: 2px solid #111; border-radius: 20px; color: var(--neon); transition: 0.5s; }
        .glow-input:focus { border-color: var(--neon); box-shadow: 0 0 30px rgba(0, 255, 204, 0.2); outline: none; }
        .btn-ultimate { background: linear-gradient(90deg, #00ffcc, #0099ff); color: #000; font-weight: 900; border-radius: 20px; transition: 0.4s; text-transform: uppercase; letter-spacing: 1px; }
        .btn-ultimate:hover { transform: scale(1.02); box-shadow: 0 10px 40px rgba(0, 255, 204, 0.4); }
        .engine-status { font-size: 10px; font-weight: 900; color: var(--neon); letter-spacing: 4px; animation: blink 1.5s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <div class="container mx-auto px-6 py-20 max-w-5xl flex-grow">
        <header class="text-center mb-16">
            <div class="engine-status mb-4 uppercase">System Status: Engine v30.0 Ready</div>
            <h1 class="text-7xl md:text-9xl font-black italic tracking-tighter mb-4" style="font-family: 'Arial Black';">APEX<span class="text-cyan-500">.</span></h1>
            <p class="text-zinc-500 font-bold uppercase text-[10px] tracking-[5px]">World's Largest Auto-Healing Video Engine</p>
        </header>

        <div class="apex-card p-10 md:p-20 shadow-2xl relative overflow-hidden">
            <div class="relative z-10 space-y-8">
                <div>
                    <label class="block text-[10px] font-black text-zinc-600 uppercase mb-4 tracking-[3px]">Input Any Social Link (FB, Insta, TikTok)</label>
                    <input type="text" id="targetLink" placeholder="Paste Link Here..." class="glow-input w-full p-6 text-xl">
                </div>
                <button onclick="startExtraction()" id="mainBtn" class="btn-ultimate w-full p-6 text-xl">
                    <i class="fas fa-bolt mr-2"></i> Extract No-Watermark Media
                </button>
            </div>

            <div id="loader" class="hidden mt-12 text-center">
                <div class="inline-block w-12 h-1 bg-zinc-800 rounded-full overflow-hidden">
                    <div class="w-1/2 h-full bg-cyan-500 animate-[loading_1s_infinite]"></div>
                </div>
                <p id="loaderMsg" class="mt-4 text-[10px] font-bold text-zinc-500 uppercase tracking-widest">Scanning Global Cloud Nodes...</p>
            </div>

            <div id="resultDisplay" class="hidden mt-16 pt-16 border-t border-white/5 animate-fade-in text-center">
                </div>
        </div>
    </div>

    <footer class="py-16 bg-black text-center border-t border-zinc-900">
        <p class="text-zinc-700 text-[10px] font-black uppercase tracking-[10px] mb-8">Developed by Syed Ali Hassan Shah</p>
        <div class="flex justify-center gap-10 mb-12">
            <a href="https://www.facebook.com/SyedAliHassanShaOfficial" target="_blank" class="text-zinc-800 hover:text-cyan-400 text-3xl transition"><i class="fab fa-facebook"></i></a>
            <a href="https://youtube.com/@zawersyedalihassanshah" target="_blank" class="text-zinc-800 hover:text-red-500 text-3xl transition"><i class="fab fa-youtube"></i></a>
            <a href="https://www.tiktok.com/@zawar_syed_ali_hassan" target="_blank" class="text-zinc-800 hover:text-white text-3xl transition"><i class="fab fa-tiktok"></i></a>
        </div>
    </footer>

    <script>
        async function startExtraction() {
            const url = document.getElementById('targetLink').value.trim();
            const btn = document.getElementById('mainBtn');
            const loader = document.getElementById('loader');
            const result = document.getElementById('resultDisplay');
            const msg = document.getElementById('loaderMsg');

            if (!url) return alert("Please paste a link first!");

            btn.disabled = true;
            loader.classList.remove('hidden');
            result.classList.add('hidden');

            // --- THE MASTER ENGINE LOGIC (VERSION 30.0) ---
            // اس میں ہم 4 مختلف بیک اینڈ سسٹمز کو ہٹ کریں گے
            const cloudEndpoints = [
                `https://api.vkrdownloader.tk/main.php?url=${encodeURIComponent(url)}`,
                `https://www.tikwm.com/api/?url=${encodeURIComponent(url)}`,
                `https://api.socialsaver.io/v1/download?url=${encodeURIComponent(url)}`
            ];

            let success = false;

            for (let i = 0; i < cloudEndpoints.length; i++) {
                try {
                    msg.innerText = `Bypassing Security Node ${i+1}...`;
                    const res = await fetch(cloudEndpoints[i]);
                    const json = await res.json();
                    
                    const data = json.data || json;
                    if (data.url || data.play || (data.links && data.links.length > 0)) {
                        renderMedia(data);
                        success = true;
                        break;
                    }
                } catch (e) {
                    console.log(`Node ${i+1} Blocked. Auto-Switching...`);
                }
            }

            if (!success) {
                alert("CRITICAL: Facebook and Instagram have blocked public extraction nodes. We are switching to a private server. Please wait 60 seconds and refresh.");
            }

            loader.classList.add('hidden');
            btn.disabled = false;
        }

        function renderMedia(media) {
            const display = document.getElementById('resultDisplay');
            display.classList.remove('hidden');

            const videoLink = media.play || media.url || (media.links ? (media.links.hd || media.links.sd || media.links[0].url) : '');
            const thumb = media.cover || media.thumbnail || 'https://via.placeholder.com/500x300/111/00ffcc?text=MEDIA+DECODED';

            display.innerHTML = `
                <div class="max-w-sm mx-auto">
                    <img src="${thumb}" class="w-full rounded-3xl shadow-2xl mb-8 border border-white/5">
                    <h3 class="text-xs font-bold text-zinc-500 mb-8 uppercase tracking-widest">${media.title || 'Data Extracted Successfully'}</h3>
                    <div class="flex flex-col gap-4">
                        <a href="${videoLink}" target="_blank" class="btn-ultimate p-5 block text-xs">
                            <i class="fas fa-download mr-2"></i> Download Without Watermark
                        </a>
                        ${media.music ? `<a href="${media.music}" target="_blank" class="text-[10px] text-zinc-600 font-bold uppercase hover:text-white transition">Get MP3 Audio</a>` : ''}
                    </div>
                    <p class="mt-8 text-[9px] text-zinc-800 font-black uppercase tracking-[5px]">Titan Apex v30.0 Auto-Patching Engine</p>
                </div>
            `;
            display.scrollIntoView({ behavior: 'smooth' });
        }
    </script>

</body>
</html>
