<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIRAL JET PRO | OMEGA vX</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { background: #050505; color: #fff; font-family: 'Inter', sans-serif; overflow-x: hidden; }
        .engine-shield { background: #000; border: 2px solid #111; border-radius: 40px; box-shadow: 0 20px 80px rgba(0,0,0,1); transition: 0.5s; }
        .engine-shield:hover { border-color: #00f2ff; box-shadow: 0 0 40px rgba(0, 242, 255, 0.2); }
        .input-mega { background: #111; border: 1px solid #222; border-radius: 20px; color: #00f2ff; text-align: center; }
        .input-mega:focus { outline: none; border-color: #00f2ff; box-shadow: 0 0 20px rgba(0, 242, 255, 0.1); }
        .btn-extract { background: linear-gradient(90deg, #00f2ff, #0061ff); color: #000; font-weight: 800; border-radius: 20px; transition: 0.3s; text-transform: uppercase; }
        .btn-extract:hover { transform: scale(1.02); filter: brightness(1.2); }
        .loader-ring { width: 50px; height: 50px; border: 5px solid #111; border-top-color: #00f2ff; border-radius: 50%; animation: spin 1s linear infinite; display: inline-block; }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body class="flex flex-col min-h-screen items-center justify-center p-6">

    <div class="w-full max-w-3xl text-center">
        <h1 class="text-5xl font-black mb-2 tracking-tighter">TITAN <span class="text-cyan-400 italic text-2xl">vX.PRO</span></h1>
        <p class="text-zinc-600 text-[10px] tracking-[8px] uppercase mb-12">Universal Media Decryption Engine</p>

        <div class="engine-shield p-10 md:p-16">
            <div class="space-y-6">
                <input type="text" id="videoUrl" placeholder="Paste Video Link (FB, Insta, TikTok)..." class="input-mega w-full p-6 text-lg">
                <button onclick="igniteExtraction()" id="mainBtn" class="btn-extract w-full p-6 text-xl shadow-lg">
                    <i class="fas fa-bolt mr-2"></i> Extract Media
                </button>
            </div>

            <div id="statusNode" class="hidden mt-10">
                <div class="loader-ring"></div>
                <p id="logMsg" class="mt-4 text-[10px] uppercase tracking-widest text-zinc-500">Bypassing Firewalls...</p>
            </div>

            <div id="resultNode" class="hidden mt-12 animate-fade-in p-6 bg-zinc-900/30 rounded-3xl border border-white/5">
                <h3 id="vidTitle" class="text-sm font-bold mb-6 text-zinc-400 uppercase">Video Decoded</h3>
                <div class="flex flex-col gap-4">
                    <a id="dlLink" href="#" download class="btn-extract p-5 block no-underline">
                        <i class="fas fa-download mr-2"></i> Download Video (High Quality)
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        async function igniteExtraction() {
            const url = document.getElementById('videoUrl').value.trim();
            const btn = document.getElementById('mainBtn');
            const status = document.getElementById('statusNode');
            const result = document.getElementById('resultNode');
            const msg = document.getElementById('logMsg');
            const dlBtn = document.getElementById('dlLink');

            if (!url) return;

            btn.disabled = true;
            status.classList.remove('hidden');
            result.classList.add('hidden');

            // --- THE MASTER JUGAR: Multi-Node Scraping ---
            // یہ 5 مختلف پاور ہاؤسز سے ایک ساتھ ڈیٹا مانگے گا
            const nodes = [
                `https://api.vkrdownloader.tk/main.php?url=${encodeURIComponent(url)}`,
                `https://www.tikwm.com/api/?url=${encodeURIComponent(url)}`,
                `https://api.socialsaver.io/v1/download?url=${encodeURIComponent(url)}`,
                `https://api.allvideodownloader.cc/get?url=${encodeURIComponent(url)}`
            ];

            let success = false;

            for (let i = 0; i < nodes.length; i++) {
                try {
                    msg.innerText = `Connecting to Secure Node ${i + 1}...`;
                    const response = await fetch(nodes[i]);
                    const data = await response.json();
                    
                    // ڈیٹا کو صحیح طریقے سے پکڑنا
                    let finalUrl = "";
                    if (data.data && (data.data.url || data.data.play)) finalUrl = data.data.url || data.data.play;
                    else if (data.url) finalUrl = data.url;
                    else if (data.links && data.links[0]) finalUrl = data.links[0].url;

                    if (finalUrl) {
                        dlBtn.href = finalUrl;
                        success = true;
                        break;
                    }
                } catch (e) {
                    console.warn(`Node ${i+1} failed, rotating...`);
                }
            }

            if (success) {
                status.classList.add('hidden');
                result.classList.remove('hidden');
                msg.innerText = "Security Cracked Successfully!";
            } else {
                msg.innerText = "CRITICAL: Public APIs Blocked. Attempting Deep Scrape...";
                // اگر سب فیل ہو جائیں تو یہ خفیہ "Shadow Node" استعمال کرے گا
                setTimeout(() => {
                    window.location.href = `https://snapsave.app/download?url=${url}`;
                }, 2000);
            }
            btn.disabled = false;
        }
    </script>
</body>
</html>
