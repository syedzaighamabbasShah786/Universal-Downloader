<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TITAN v2000 | GHOST PROTOCOL</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { background: #000; color: #fff; font-family: 'Orbitron', sans-serif; overflow-x: hidden; }
        .master-core { background: rgba(10, 10, 10, 0.95); border: 1px solid #333; border-radius: 40px; box-shadow: 0 0 100px rgba(0, 255, 150, 0.1); }
        .status-bar { height: 4px; width: 0%; background: linear-gradient(90deg, #00ff95, #0066ff); transition: 0.5s; }
        .glass-input { background: rgba(255, 255, 255, 0.05); border: 1px solid #222; border-radius: 20px; color: #00ff95; font-size: 1.2rem; }
        .glass-input:focus { border-color: #00ff95; outline: none; box-shadow: 0 0 30px rgba(0, 255, 149, 0.2); }
        .btn-ghost { background: #00ff95; color: #000; font-weight: 900; border-radius: 20px; transition: 0.3s; text-transform: uppercase; letter-spacing: 2px; }
        .btn-ghost:hover { transform: translateY(-5px); box-shadow: 0 15px 40px rgba(0, 255, 149, 0.4); }
        @keyframes pulse-red { 50% { opacity: 0.5; } }
        .breaking { animation: pulse-red 0.5s infinite; color: #ff3333; }
    </style>
</head>
<body class="flex flex-col min-h-screen items-center justify-center p-6">

    <div class="w-full max-w-4xl text-center">
        <h1 class="text-6xl font-black italic mb-2 tracking-tighter">TITAN <span class="text-emerald-400">v2.0</span></h1>
        <p class="text-zinc-600 text-[10px] tracking-[10px] uppercase mb-12">AI-Driven Auto-Healing Infrastructure</p>

        <div class="master-core p-8 md:p-16 relative overflow-hidden">
            <div id="loaderBar" class="status-bar absolute top-0 left-0"></div>
            
            <div class="space-y-8 relative z-10">
                <input type="text" id="videoUrl" placeholder="Paste Secured URL (FB, Insta, TikTok)..." class="glass-input w-full p-6 text-center shadow-2xl">
                
                <button onclick="executeGhostProtocol()" id="mainBtn" class="btn-ghost w-full p-6 text-xl">
                    <i class="fas fa-skull-crossbones mr-3"></i> Break Security & Download
                </button>
            </div>

            <div id="statusReport" class="hidden mt-10">
                <p id="statusTxt" class="text-[10px] font-bold uppercase tracking-widest text-zinc-500">Injecting Bypass Scripts...</p>
            </div>

            <div id="finalOutput" class="hidden mt-12 pt-12 border-t border-zinc-900 animate-fade-in">
                </div>
        </div>
    </div>

    <script>
        async function executeGhostProtocol() {
            const url = document.getElementById('videoUrl').value.trim();
            const btn = document.getElementById('mainBtn');
            const report = document.getElementById('statusReport');
            const txt = document.getElementById('statusTxt');
            const bar = document.getElementById('loaderBar');
            const output = document.getElementById('finalOutput');

            if (!url) return;

            btn.disabled = true;
            report.classList.remove('hidden');
            output.classList.add('hidden');
            bar.style.width = "20%";

            // --- THE GHOST ENGINE MULTI-GATEWAY ---
            // یہ 4 مختلف سرورز کو ایک ساتھ ہٹ کرے گا تاکہ "404" یا "Block" کا چانس نہ رہے
            const protocols = [
                `https://api.vkrdownloader.tk/main.php?url=${encodeURIComponent(url)}`,
                `https://www.tikwm.com/api/?url=${encodeURIComponent(url)}`,
                `https://api.allinone.com/fetch?url=${encodeURIComponent(url)}`,
                `https://api.socialsaver.io/v1/download?url=${encodeURIComponent(url)}`
            ];

            let found = false;

            for (let i = 0; i < protocols.length; i++) {
                try {
                    txt.innerText = `Attempting Tunnel ${i+1}: Cracking Encryption...`;
                    txt.classList.add('breaking');
                    bar.style.width = `${(i + 1) * 25}%`;

                    const res = await fetch(protocols[i]);
                    const data = await res.json();
                    const result = data.data || data;

                    if (result.url || result.play || (result.links && result.links.length > 0)) {
                        renderResult(result);
                        found = true;
                        break;
                    }
                } catch (e) {
                    console.log(`Tunnel ${i+1} Blocked. Auto-Switching...`);
                }
            }

            if (!found) {
                // اگر سب بلاک ہوں تو یہ "میگا جگاڑ" استعمال کرے گا
                txt.innerText = "System Patching... Launching Global Proxy Node...";
                setTimeout(() => {
                    window.open(`https://www.y2mate.com/download-youtube/${encodeURIComponent(url)}`, '_blank');
                }, 2000);
            }

            btn.disabled = false;
            txt.classList.remove('breaking');
        }

        function renderResult(res) {
            const area = document.getElementById('finalOutput');
            area.classList.remove('hidden');
            
            // خودکار طریقے سے بہترین کوالٹی کا لنک نکالنا
            let link = res.play || res.url || "";
            if (!link && res.links) link = res.links[0].url || res.links.hd;
            
            area.innerHTML = `
                <div class="bg-zinc-900/50 p-8 rounded-3xl border border-emerald-500/20 shadow-2xl">
                    <p class="text-xs text-emerald-400 font-bold mb-6 tracking-widest uppercase">Security Cracked Successfully</p>
                    <a href="${link}" target="_blank" class="btn-ghost p-6 block text-center no-underline text-xl">
                        <i class="fas fa-cloud-download-alt mr-2"></i> Click to Save Video
                    </a>
                    <p class="mt-6 text-[8px] text-zinc-700 uppercase tracking-widest">Engine v2000 | No Keys Required | Auto-Update Sync</p>
                </div>
            `;
            area.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
